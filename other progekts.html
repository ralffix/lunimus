<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Other Projects</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* Card container grid */
    .project-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      max-width: 1000px;
      margin: 2rem auto;
      padding: 0 1rem;
    }

    /* Individual cards */
    .project-card {
      background-color: #222;
      border-radius: 12px;
      padding: 20px;
      color: #66edff;
      box-shadow: 0 0 15px transparent;
      text-decoration: none;
      display: flex;
      flex-direction: column;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
      cursor: pointer;
    }

    .project-card:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px #66edff;
    }

    .project-card h3 {
      margin-top: 0;
      margin-bottom: 0.75rem;
      font-size: 1.4rem;
    }

    .project-card p {
      flex-grow: 1;
      color: #a0d8ff;
      font-size: 1rem;
      line-height: 1.3;
    }
  </style>
</head>
<body>
  <nav class="topbar">
    <a href="index.html">Home</a>
    <a href="#">My Games</a>
    <a href="#">Buy Games</a>
    <a href="other progekts.html">Other Projects</a>
    <a href="server.html">Minecraft Server</a>
    <a href="about me.html">About Me</a>
      <a href="login.html" id="login-link">Sign In / Log In</a>
  </nav>  

  <main class="content">
    <h1 style="text-align:center; margin-bottom: 2rem; color: #00bfff;">Other Projects</h1>

    <div class="project-grid">
      <a href="kautkas.html" class="project-card">
        <h3>My 1st Ever HTML Game</h3>
        <p>A game that I made in 3 hours at my school. Simple but fun!</p>
      </a>

      <a href="#" class="project-card">
        <h3>Video Remaker</h3>
        <p>A program that rebuilds your videos into smaller file sizes without losing quality.</p>
      </a>
    </div>
  </main>

  <div id="cursor-line"></div>

  <script>
    // Initialize Supabase client
    const supabase = supabase.createClient(window.SUPABASE_URL, window.SUPABASE_ANON_KEY);

    // Load navbar.html and then handle auth-based UI change
    fetch("navbar.html")
      .then(response => {
        if (!response.ok) throw new Error("Failed to load navbar");
        return response.text();
      })
      .then(html => {
        document.getElementById("navbar").innerHTML = html;

        // Wait for the DOM to update with injected navbar
        const checkAuthLinks = () => {
          const authLinks = document.getElementById("auth-links");
          if (!authLinks) {
            // Retry a few times if the element hasn't rendered yet
            setTimeout(checkAuthLinks, 100);
            return;
          }

          supabase.auth.getSession().then(({ data: { session } }) => {
            if (session && session.user) {
              authLinks.innerHTML = '<a href="akount.html">Account</a>';
            }
          });
        };

        checkAuthLinks();
      })
      .catch(error => {
        console.error("Error loading navbar or checking session:", error);
        document.getElementById("navbar").innerHTML = "<nav>Navbar failed to load.</nav>";
      });
  </script>
</body>
</html>
